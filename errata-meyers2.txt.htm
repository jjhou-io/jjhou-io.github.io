<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=big5">
<meta name="GENERATOR" content="Microsoft FrontPage 3.0">
<title>勘誤《More Effective C++ 中文版》</title>
</head>

<body>

<pre>本勘誤檔更新日期: 2005/06/09</pre>

<pre>《More Effective C++ 中文版》
培生教育出版集團, 2000</pre>

<pre>原著：More Effective C++, by Scott Meyers,
      Addison Wesley,1996</pre>

<pre>注意：以下以修正日期排序。</pre>

<pre>======================================================</pre>

<pre>書籍內容更正，有兩種作法，一是在網際網路上做個專屬勘誤
網頁，讓大家上去看。這是比較即時的作法。而更理想更負責
的作法是：不但有勘誤網頁，並且在新刷中予以更正 — 如果
有新刷的話 :)</pre>

<pre>不過，理想與現實之間需要一點協調。書籍的製作是這樣的，
製版與印刷時，是以檯（8 或 16 頁）為單位。因此，每換一
頁，同檯的各頁統統要換過。這便造成印製成本的大量增加。</pre>

<pre>以前，我從不考慮成本，只要我認為書籍內容有修改必要，即
使只是某個字詞用得不甚理想，我都會請出版社更新。出版社
也都全力配合（這一點讓我非常感謝）。</pre>

<pre>慢慢地，我的行事不再這麼霹靂，我覺得我多少也要站在出版
社的立場想想。所以我打算，如果是關係到對錯正誤的根本性
問題，我便一定在新刷修正。如果是易判別的錯別字或排版誤
失或用詞不很恰當…等等，我便先在勘誤網頁上明載，但不求
一定於新刷中更正。直到收集來的這類誤失較為密集了，才一
併於下一刷修正。</pre>

<pre>哪些是新刷已修正的，哪些是暫請讀者自行動手更改的，我會
在勘誤網頁（網址見書封底）上清楚說明。</pre>

<pre>這是個便宜法門，請讀者見諒。</pre>

<pre>書籍應該在出版前就詳細檢查，以完美之姿出現。但是完美很
難達到。對於下列大大小小輕重不等的誤失，我謹向讀者說抱
歉。</pre>

<pre>本檔歡迎廣為流傳，謝謝。</pre>

<pre>以下為更新記錄。如果您購買的是第 n 刷，請將以下第 n+1
刷之後的更新內容自行修正至書上。謝謝</pre>

<pre>======================================================</pre>

<pre>以下請一刷讀者自行更正（<font color="#0000FF">已於二刷紙本中全部更正完畢</font>）：
（注意，Lm 表示第 m 行，L-n 表示倒數第 n 行）</pre>

<pre>■p45, L-1（多印一行）
原文：class ALA {
更正：去除
感謝：jjhou
日期：2000/08/11</pre>

<pre>■p25, L12（筆誤）
原文：// 可以把 string 轉換為 Na<font color="#FF0000">v</font>e
更正：// 可以把 string 轉換為 Na<font
color="#0000FF">m</font>e
感謝：edward
日期：2000/09/07</pre>

<pre>■p151, 圖，最下一欄（筆誤）
原文：Sta<font color="#FF0000">ck</font> Objects
更正：Sta<font
color="#0000FF">tic</font> Objects
感謝：kylin
日期：2001/01/02</pre>

<pre>■p173, L-10; p207, L-9
原文：<font color="#FF0000">底線</font>
更正：<font
color="#0000FF">重點</font>
感謝：kylin
日期：2001/01/02</pre>

<pre>■p194, L-1（多印一行）
原文：void addReference();
更正：刪除之
感謝：kylin
日期：2001/01/02</pre>

<pre>■p229, L-1（筆誤）
原文：你還是必須滿足<font color="#FF0000">出</font>上述要求。
更正：你還是必須滿足上述要求。
感謝：kylin
日期：2001/01/02</pre>

<pre>■p244, L-11（筆誤）
原文：所指的<font color="#FF0000">向</font>
更正：所指的<font
color="#0000FF">是</font>
感謝：kylin
日期：2001/01/02</pre>

<pre>■p289, L-7（筆誤）
原文：瞎<font color="#FF0000">擾</font>和
更正：瞎<font
color="#0000FF">攪</font>和
感謝：kylin
日期：2001/01/02</pre>

<pre>■p20, L1（誤譯）
原文：一般而言沒有任何方法<font color="#FF0000">可以將物件陣列指定為 constructor 的引數</font>
更正：一般而言沒有任何方法<font
color="#0000FF">可為陣列中的物件指定 constructor 引數</font>
感謝：XWang
日期：2001/02/28
討論：下面是 XWang 提供的訊息，可供參考。但此法仍需一個
default ctor 存在。而且此法無法為陣列中不同的物件指定
不同的參數。與 p.20 的討論仍有點距離。
</pre>

<pre>forwarded from PG63, XWang</pre>

<pre>TITLE: Passing arguments to arrayed object constructors</pre>

<pre>PROBLEM: Arrays of objects always have their empty constructors called.
There is no syntax for passing arguments to these constructors.</pre>

<pre>RESPONSE: Jim Adcock (jimad@microsoft.UUCP)</pre>

<pre>Here's an example of a work-around for arrays.  Use a static member
function to provide a default for initializing objects.  This could
be generalized to providing a default function for initializing objects.
</pre>

<pre>#include &lt;iostream&gt;
using namespace std;</pre>

<pre>class VAL
{
friend ostream&amp; operator&lt;&lt;(ostream&amp; os, const VAL&amp; v);</pre>

<pre>public:
  VAL() : i(defaultvalue) { }
  VAL(int v) : i(v) { }</pre>

<pre>  void SetVal (int v) { i = v;   }
  int  GetVal ()      { return i; }</pre>

<pre>  static void SetDefault(int v) { defaultvalue = v; }</pre>

<pre>private:
  int i;
  static int defaultvalue;
};</pre>

<pre>// static member initialization (definition)
int VAL::defaultvalue = 0;</pre>

<pre>ostream&amp; operator&lt;&lt;(ostream&amp; os, const VAL&amp; v)
{
  os &lt;&lt; '[' &lt;&lt; v.i &lt;&lt; ']';
  return os;
}</pre>

<pre>main()
{
  int i;</pre>

<pre>  VAL::SetDefault(234);
  VAL* a = new VAL[5];
  for (int i=0; i&lt;5; ++i)
    cout &lt;&lt; a[i] &lt;&lt; ' ';       // [234] [234] [234] [234] [234]
  cout &lt;&lt; endl;</pre>

<pre>  VAL::SetDefault(432);
  VAL* a2 = new VAL[5];
  for (int i=0; i&lt;5; ++i)
    cout &lt;&lt; a2[i] &lt;&lt; ' ';      // [432] [432] [432] [432] [432]
  cout &lt;&lt; endl;</pre>

<pre>  return 0;
}
</pre>

<pre>■p23, L-3（誤譯）
原文：雖然這可能會<font color="#FF0000">造成可用的 classes 個數有</font>某種限制
更正：雖然這可能會<font
color="#0000FF">對 classes 的使用方式帶來</font>某種限制
感謝：XWang
日期：2001/02/28</pre>

<pre>■p43, L14（筆誤）
原文：陣列版的<font color="#FF0000"> operator new </font>必須針對陣列中的每個物件喚起一個 contructor
更正：陣列版的 <font
color="#0000FF">new operator</font> 必須針對陣列中的每個物件喚起一個 contructor
感謝：myan
日期：2001/03/23</pre>

<pre>■p129, L5（誤譯）
原文：我們真正需要的是一個<font color="#FF0000"> non-member function，它呼叫 operator&lt;&lt;，
      以展現像 print 虛擬函式一般的行為。</font>
更正：我們真正需要的是一個<font
color="#0000FF">名為 operator&lt;&lt; 的 non-member function，</font>
      <font
color="#0000FF">展現出類似 print 虛擬函式一般的行為。</font>
感謝：jjhou
日期：2001/06/30</pre>

<pre>■pix, p19, 條款4標題（重新解釋）
原文：非必要不<font
color="#FF0000">使用</font> default constructor
修潤：非必要不<font
color="#0000FF">提供</font> default constructor
說明：原譯的「不使用」，是對 class designer 而言，不是對 client 而言。
      恐有誤會。特此說明。改為「不提供」，意義就很鮮明了。
感謝：CTWu
日期：2001/07/18</pre>

<pre>■p22, L2, （筆誤）
原文：對那些 temp<font color="#FF0000">al</font>tes 而言
修潤：對那些 temp<font
color="#0000FF">la</font>tes 而言
感謝：CTWu
日期：2001/07/18</pre>

<pre>■p7, L-8, （錯別字）
原文：導<font color="#FF0000">至</font>
更正：導<font
color="#0000FF">致</font>
感謝：jjhou
日期：2001/07/18</pre>

<pre>■p22, L2,（重新修潤）
原文：具現化（instantiated）的「標的型別」<font
color="#FF0000">需要有一個</font> default constructors。
更正：<font
color="#0000FF">被</font>具現化（instantiated）的「標的型別」<font
color="#0000FF">必須得有個</font> default constructor。
感謝：jjhou
日期：2001/07/18</pre>

<pre>■p92, L5,（錯別字）
原文：其所運用的<font color="#FF0000">計</font>倆就是…
更正：其所運用的<font
color="#0000FF">技</font>倆就是…
感謝：jjhou
日期：2001/07/18</pre>

<pre>■p94, L15,（重新修潤）
原文：於是我們令這些函式傳回某些資料結構，用來在這些函式的傳回值
      真正派上用場，決定其適當數值。
更正：於是我們令這些函式傳回某些資料結構，用來在<font
color="#0000FF">「</font>這些函式的傳回值
      真正需要被派上用場<font
color="#0000FF">」時</font>，決定其適當數值。
感謝：jjhou
日期：2001/07/18</pre>

<pre>■p103, L-14,（錯別字）
原文：我們的<font color="#FF0000">計</font>倆是
更正：我們的<font
color="#0000FF">技</font>倆是
感謝：jjhou
日期：2001/07/18</pre>

<pre>■p137,L10,  p163,L4,L-3,  p164,L16,  p171,L-3,L-1,  p173,L4,L11
■p187,L19,L-3,  p188,L12,  p196,L4,  p212,L16,  p232,L12,  p235,L6
■p241,L-2,  p242,L-10
原文：導<font
color="#FF0000">至</font>
更正：導<font color="#0000FF">致</font>
感謝：jjhou
日期：2001/07/24</pre>

<pre>■p218,L-6（誤譯）
原文：我們曾經在條款29中<font color="#FF0000">重新設計程式，解決這個無法滿足的狀態</font>。
更正：我們曾經在條款29中<font
color="#0000FF">放任自己於這個難以解決的狀態</font>。
感謝：jjhou
日期：2001/07/25</pre>

<pre>↑以上<font color="#0000FF">已於二刷紙本中全部更正完畢</font></pre>

<hr>

<pre>以下請二刷讀者自行更正：
（注意，Lm 表示第 m 行，L-n 表示倒數第 n 行）</pre>

<pre>■p120,圖（原書紙本錯誤而電子版正確）
原文：該頁圖中，最下兩格（&quot;vptr&quot; 和 &quot;A Data Members&quot;）位置錯誤。
更正：兩者應互調如下：</pre>

<pre><img src="errata-meyers2-p120fig.jpg" tppabs="http://jjhou.boolan.com/errata-meyers2-p120fig.jpg" width="240" height="287"
alt="errata-meyers2-p120fig.jpg (14919 bytes)">
感謝：Edward
日期：2005/06/09</pre>

<p>　</p>

<pre>--- the end</pre>
</body>
</html>
